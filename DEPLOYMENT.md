# Инструкция по развертыванию сайта АбсолютПрофРемонт

## Шаг 1: Запуск SQL-скриптов

После создания проекта необходимо выполнить SQL-скрипты для настройки базы данных:

### Порядок выполнения:

1. **001_create_tables.sql** - Создание всех таблиц базы данных
2. **002_seed_data.sql** - Заполнение начальными данными
3. **003_admin_policies.sql** - Настройка политик безопасности RLS

### Как запустить скрипты:

Скрипты можно выполнить прямо из интерфейса v0:
- Откройте папку `scripts/` в проекте
- Скрипты будут выполнены автоматически при публикации

Либо вручную в Supabase:
1. Перейдите в Supabase Dashboard
2. Откройте SQL Editor
3. Скопируйте и выполните каждый скрипт по порядку

## Шаг 2: Создание администратора

После выполнения скриптов создайте учетную запись администратора:

1. Перейдите на страницу `/admin/login`
2. Нажмите "Зарегистрироваться" (только для первого входа)
3. Введите email и пароль
4. Подтвердите email через письмо от Supabase

### Важно:
После создания первого администратора рекомендуется отключить публичную регистрацию в настройках Supabase:
- Settings → Authentication → Email Auth
- Отключите "Enable email signups"

## Шаг 3: Настройка контактных данных

В админ-панели (`/admin/settings`) укажите:
- Телефон компании
- Email для получения заявок
- Адрес офиса
- Режим работы
- Ссылки на соцсети

## Шаг 4: Заполнение контента

### Услуги (`/admin/services`)
1. Отредактируйте существующие услуги или создайте новые
2. Укажите категорию, цену, описание
3. Добавьте список того, что входит в услугу
4. Опубликуйте услугу

### Проекты (`/admin/projects`)
1. Создайте новый проект
2. Загрузите изображения (поддержка Supabase Storage)
3. Укажите характеристики: площадь, сроки, локацию
4. Опубликуйте проект

### Команда (`/admin/team`)
1. Добавьте сотрудников компании
2. Загрузите фотографии
3. Укажите должности и описание

### Отзывы (`/admin/reviews`)
- Просматривайте и модерируйте отзывы
- Публикуйте проверенные отзывы

## Шаг 5: Настройка домена

### Развертывание на Vercel:
1. Нажмите "Publish" в интерфейсе v0
2. Выберите или создайте проект в Vercel
3. Добавьте свой домен в настройках проекта

### Настройка DNS:
Добавьте записи в вашем DNS-провайдере:
\`\`\`
A     @     76.76.21.21
CNAME www   cname.vercel-dns.com
\`\`\`

## Шаг 6: Настройка переменных окружения

Все необходимые переменные окружения для Supabase уже настроены автоматически.

### Дополнительные переменные (опционально):

Для email-уведомлений добавьте:
- `EMAIL_FROM` - адрес отправителя
- `EMAIL_API_KEY` - ключ API (Resend/SendGrid)

## Структура проекта

\`\`\`
├── app/
│   ├── page.tsx              # Главная страница
│   ├── services/             # Страница услуг
│   ├── portfolio/            # Портфолио проектов
│   ├── about/                # О компании
│   ├── reviews/              # Отзывы
│   ├── contacts/             # Контакты и формы
│   ├── privacy/              # Политика конфиденциальности
│   └── admin/                # Админ-панель
│       ├── login/            # Вход в админку
│       ├── services/         # Управление услугами
│       ├── projects/         # Управление проектами
│       ├── team/             # Управление командой
│       ├── reviews/          # Управление отзывами
│       ├── contacts/         # Просмотр обращений
│       ├── consultations/    # Просмотр заявок на консультацию
│       └── settings/         # Настройки сайта
├── components/
│   ├── header.tsx            # Шапка сайта
│   ├── footer.tsx            # Подвал сайта
│   ├── mobile-nav.tsx        # Мобильное меню
│   ├── contact-form.tsx      # Форма обратной связи
│   ├── consultation-form.tsx # Форма заказа консультации
│   └── admin/                # Компоненты админ-панели
├── lib/
│   └── supabase/             # Клиенты Supabase
└── scripts/                  # SQL-скрипты для БД
\`\`\`

## Техническая поддержка

### База данных Supabase

Таблицы:
- `services` - услуги компании
- `projects` - портфолио проектов
- `team_members` - команда
- `reviews` - отзывы клиентов
- `contact_requests` - обращения через форму
- `consultation_requests` - заявки на консультацию
- `site_settings` - настройки сайта

### Безопасность

Проект использует:
- Row Level Security (RLS) для защиты данных
- Supabase Auth для аутентификации
- Middleware для защиты админских роутов
- Валидация данных на клиенте и сервере

## Дальнейшие улучшения

### Рекомендуемые интеграции:

1. **Email-уведомления**
   - Resend или SendGrid для отправки писем
   - Автоматические уведомления о новых заявках

2. **Telegram-бот**
   - Уведомления о заявках в Telegram
   - Быстрая реакция на обращения

3. **Аналитика**
   - Google Analytics
   - Vercel Analytics (встроена)
   - Отслеживание конверсий

4. **SEO-оптимизация**
   - Настройка метатегов для всех страниц
   - Добавление sitemap.xml
   - Структурированные данные Schema.org

5. **Производительность**
   - Оптимизация изображений (уже настроена)
   - CDN для статики
   - Кэширование запросов

---

Проект готов к использованию! При возникновении вопросов обращайтесь к документации Next.js и Supabase.
