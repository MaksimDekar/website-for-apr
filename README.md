# АбсолютПрофРемонт - Сайт строительной компании

Корпоративный сайт строительно-ремонтной компании с CMS-функционалом.

## Технологии

- **Frontend**: Next.js 15, React 19, TypeScript
- **Styling**: Tailwind CSS v4, shadcn/ui
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Supabase Auth
- **Deployment**: Vercel

## Структура проекта

### Публичные страницы
- `/` - Главная страница с основными разделами
- `/services` - Каталог услуг компании
- `/portfolio` - Портфолио выполненных проектов
- `/portfolio/[id]` - Детальная страница проекта
- `/about` - О компании и команде
- `/contacts` - Контакты и формы обратной связи
- `/privacy` - Политика конфиденциальности

### Админ-панель
- `/admin` - Главная панель со статистикой
- `/admin/login` - Страница входа
- `/admin/services` - Управление услугами
- `/admin/projects` - Управление проектами
- `/admin/team` - Управление командой
- `/admin/reviews` - Управление отзывами
- `/admin/reviews/flamp` - Интеграция с Flamp
- `/admin/contacts` - Просмотр обращений
- `/admin/consultations` - Просмотр заявок на консультацию
- `/admin/settings` - Настройки сайта

## База данных

### Таблицы
- `services` - Услуги компании
- `projects` - Портфолио проектов
- `project_images` - Галерея изображений проектов
- `team_members` - Сотрудники компании
- `reviews` - Отзывы клиентов
- `contact_requests` - Обращения с формы контактов
- `consultation_requests` - Заявки на консультацию
- `site_settings` - Настройки сайта
- `flamp_settings` - Настройки интеграции с Flamp

### Безопасность
- Включен Row Level Security (RLS) на всех таблицах
- Публичный доступ только на чтение опубликованного контента
- Формы доступны без авторизации
- Админ-панель требует аутентификации

## Запуск проекта
Шаг 1: Клонирование репозитория
Откройте терминал или командную строку.
Клонируйте репозиторий:
bash
Копировать
git clone https://github.com/MaksimDekar/website-for-apr.git
Перейдите в папку проекта:
bash
Копировать
cd website-for-apr
Шаг 2: Установка зависимостей
Установите зависимости:
bash
Копировать
npm install
Шаг 3: Настройка переменных окружения
Создайте файл .env:
Если файла .env еще нет, создайте его в корневой директории проекта.
Скопируйте содержимое из .env.example в .env:
bash
Копировать
cp .env.example .env
Заполните файл .env:
Добавьте необходимые переменные окружения, такие как NEXT_PUBLIC_SUPABASE_URL и NEXT_PUBLIC_SUPABASE_ANON_KEY.
Пример:
bash
Копировать
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
Шаг 4: Запуск проекта
Запустите проект:
bash
Копировать
npm run dev
Шаг 5: Проверка работы проекта
Откройте браузер и перейдите по адресу http://localhost:3000.
Проверьте, что все страницы и функции работают корректно.

1. Установите зависимости:
\`\`\`bash
npm install
\`\`\`

2. Настройте переменные окружения (уже настроены в v0):
- NEXT_PUBLIC_SUPABASE_URL
- NEXT_PUBLIC_SUPABASE_ANON_KEY
- И другие Supabase переменные

3. Запустите SQL-скрипты из папки `/scripts`:
- `001_create_tables.sql` - Создание таблиц
- `002_seed_data.sql` - Начальные данные
- `003_admin_policies.sql` - Политики доступа для админов
- `004_add_flamp_integration.sql` - Интеграция с Flamp

4. Создайте администратора в Supabase Authentication

5. Запустите проект:
\`\`\`bash
npm run dev
\`\`\`

## Функционал

### Для посетителей
- Просмотр услуг и портфолио
- Отправка заявок на консультацию
- Просмотр информации о компании
- Контактные формы

### Для администраторов
- Управление всем контентом сайта
- Просмотр и обработка заявок
- Статистика по обращениям
- Управление командой и услугами
- Интеграция с Flamp для импорта отзывов
- Автоматическое отображение отзывов из Flamp

## Интеграция с Flamp

Сайт поддерживает интеграцию с платформой отзывов Flamp.ru через официальный виджет.

### Настройка виджета

1. Перейдите в админ-панель: `/admin/reviews/flamp`
2. Найдите код виджета на вашей странице Flamp или получите его через раздел "Получить виджет"
3. Скопируйте ID компании из атрибута `data-flamp-widget-id`
   - Пример: в коде `data-flamp-widget-id="70000001020667161"` ID будет `70000001020667161`
4. Вставьте ID в поле настроек и сохраните

### Как работает виджет

- Виджет автоматически загружает актуальные отзывы с Flamp.ru
- Отзывы отображаются на странице `/reviews` без необходимости ручного импорта
- Виджет адаптируется под дизайн сайта
- Включает ссылку на вашу страницу на Flamp для написания новых отзывов

### Параметры виджета

В компоненте `FlampWidget` можно настроить:
- `companyId` - ID вашей компании на Flamp
- `count` - количество отображаемых отзывов (по умолчанию 3)
- `width` - ширина виджета (по умолчанию 100%)

### Где найти код виджета Flamp

1. Откройте вашу страницу на Flamp.ru
2. Найдите кнопку "Получить виджет" или аналогичную
3. Скопируйте предоставленный HTML-код
4. Найдите в нем строку с `data-flamp-widget-id`
5. Используйте это значение в настройках

## Следующие шаги

1. Добавить формы создания/редактирования в админке
2. Интеграция с Яндекс.Картами
3. Система загрузки изображений (Vercel Blob)
4. Email-уведомления о новых заявках
5. Telegram-бот для уведомлений
6. SEO-оптимизация
7. Аналитика (Яндекс.Метрика, Google Analytics)

## Контакты

ООО "АбсолютПрофРемонт"
- Email: info@absolutprofremont.ru
- Телефон: +7 (495) 123-45-67
